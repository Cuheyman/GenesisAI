2025-06-21 11:32:49,828 - INFO - CoinGecko API connected: (V3) To the Moon!
2025-06-21 11:32:49,830 - INFO - CoinGecko AI client initialized with demo API key
2025-06-21 11:32:49,830 - INFO - CoinGecko AI client initialized
2025-06-21 11:32:49,904 - INFO - Database initialization complete
2025-06-21 11:32:49,915 - INFO - Schema update applied: ALTER TABLE positions ADD COLUMN take_profit_pct REAL
2025-06-21 11:32:49,924 - INFO - Schema update applied: ALTER TABLE positions ADD COLUMN stop_loss_pct REAL
2025-06-21 11:32:49,933 - INFO - Schema update applied: ALTER TABLE positions ADD COLUMN is_new_asset INTEGER DEFAULT 0
2025-06-21 11:32:49,942 - INFO - Schema update applied: ALTER TABLE positions ADD COLUMN exit_price REAL
2025-06-21 11:32:49,951 - INFO - Schema update applied: ALTER TABLE positions ADD COLUMN exit_time TEXT
2025-06-21 11:32:49,960 - INFO - Schema update applied: ALTER TABLE positions ADD COLUMN profit_loss REAL
2025-06-21 11:32:49,969 - INFO - Schema update applied: ALTER TABLE positions ADD COLUMN signal_source TEXT
2025-06-21 11:32:49,978 - INFO - Schema update applied: ALTER TABLE positions ADD COLUMN signal_strength REAL
2025-06-21 11:32:49,986 - INFO - Schema update applied: ALTER TABLE trades ADD COLUMN signal_source TEXT
2025-06-21 11:32:49,994 - INFO - Schema update applied: ALTER TABLE trades ADD COLUMN signal_strength REAL
2025-06-21 11:32:49,995 - INFO - Database schema updated successfully with 10 changes
2025-06-21 11:32:50,005 - INFO - Taapi.io client initialized (Free tier: 1 request/15s)
2025-06-21 11:32:50,006 - INFO - Advanced indicators initialized with Taapi.io
2025-06-21 11:32:50,023 - INFO - Taapi.io client initialized (Free tier: 1 request/15s)
2025-06-21 11:32:50,023 - INFO - Advanced indicators initialized with Taapi.io
2025-06-21 11:32:50,023 - INFO - Advanced indicators initialized successfully
2025-06-21 11:32:50,023 - INFO - Risk Manager initialized with equity protection: Warning at 3.0%, Risk Reduction at 5.0%, High Alert at 8.0%, Emergency at 12.0%
2025-06-21 11:32:50,023 - INFO - Hybrid Trading Bot initialized with 1000.00 equity
2025-06-21 11:32:50,023 - INFO - Mode: TEST trading
2025-06-21 11:32:50,023 - INFO - AI Provider: CoinGecko
2025-06-21 11:32:50,024 - INFO - Advanced Indicators: Taapi.io
2025-06-21 11:32:50,025 - INFO - Testing API connections...
2025-06-21 11:32:50,706 - INFO - Binance server time: 2025-06-21 11:32:52.952000
2025-06-21 11:32:51,189 - INFO - CoinGecko AI connection successful: -0.12207609825570345
2025-06-21 11:32:51,190 - INFO - Preloading historical data for analysis...
2025-06-21 11:32:51,190 - INFO - Preloading historical data for analysis...
2025-06-21 11:32:51,191 - INFO - Fetching top 20 trending cryptocurrency pairs
2025-06-21 11:32:52,584 - INFO - Found trending pairs: FUNUSDT, SUSDT, BMTUSDT, VIRTUALUSDT, UNIUSDT...
2025-06-21 11:32:52,585 - INFO - Preloading data for pairs: UNIUSDT, BABYUSDT, KMNOUSDT, LAYERUSDT, SYRUPUSDT
2025-06-21 11:33:24,211 - INFO - Preloading data for pairs: FUNUSDT, BMTUSDT, QNTUSDT, TRBUSDT, ENAUSDT
2025-06-21 11:33:57,004 - INFO - Preloading data for pairs: ALTUSDT, BTCUSDT, BNBUSDT, ARBUSDT, RSRUSDT
2025-06-21 11:34:27,202 - INFO - Preloading data for pairs: VANAUSDT, SEIUSDT, ADAUSDT, ETHUSDT, VIRTUALUSDT
2025-06-21 11:34:57,499 - INFO - Preloading data for pairs: SOLUSDT, NEIROUSDT, INITUSDT, HUMAUSDT, SUSDT
2025-06-21 11:35:28,132 - INFO - Historical data preloading complete
2025-06-21 11:35:36,521 - INFO - Updating correlation matrix...
2025-06-21 11:35:36,523 - INFO - Current equity: $1000.00, Daily ROI: 0.00%, Drawdown: 0.00%, Risk level: normal, Positions: 0/15 ($0.00, 0.0% of equity)
2025-06-21 11:35:36,535 - INFO - Current daily ROI: 0.00% (target: 0.5% - 2.5%)
2025-06-21 11:35:36,536 - INFO - Fetching top 30 trending cryptocurrency pairs
2025-06-21 11:35:37,930 - INFO - Found trending pairs: FUNUSDT, SUSDT, BMTUSDT, VIRTUALUSDT, UNIUSDT...
2025-06-21 11:35:38,416 - INFO - Selected optimal assets: SEIUSDT, APTUSDT, NXPCUSDT, UNIUSDT, KMNOUSDT... (15 total)
2025-06-21 11:35:38,485 - INFO - Hourly performance report: {
  "equity": {
    "current": 1000.0,
    "start": 1000.0,
    "total_return_pct": 0.0,
    "max_drawdown_pct": 0,
    "avg_daily_return_pct": 0,
    "avg_weekly_return_pct": 0
  },
  "trades": {
    "total": 0,
    "win_count": 0,
    "loss_count": 0,
    "win_rate_pct": 0,
    "profit_factor": 0,
    "avg_profit": 0,
    "avg_loss": 0,
    "expected_value": 0,
    "recent_win_rate_pct": 0
  },
  "pairs": {
    "best_pair": "None",
    "best_pair_profit": 0,
    "worst_pair": "None",
    "worst_pair_profit": 0
  },
  "timestamp": "2025-06-21 11:35:38"
}
2025-06-21 11:36:10,522 - INFO - Correlation matrix updated for 41 pairs
2025-06-21 11:36:17,567 - INFO - Market state: Regime=NEUTRAL, Trend=neutral, Volatility=low, Breadth=0.00
2025-06-21 11:36:35,267 - INFO - CoinGecko insights for BNB: neutral (0.50 confidence), sentiment: 0.03, whale: 0.00, smart money: bullish
2025-06-21 11:36:40,178 - INFO - CoinGecko insights for XRP: neutral (0.50 confidence), sentiment: 0.02, whale: 0.05, smart money: bullish
2025-06-21 11:36:43,262 - INFO - CoinGecko insights for BTC: neutral (0.50 confidence), sentiment: 0.00, whale: 0.00, smart money: bullish
2025-06-21 11:36:47,707 - INFO - CoinGecko insights for LTC: neutral (0.50 confidence), sentiment: -0.11, whale: 0.10, smart money: neutral
2025-06-21 11:36:50,805 - INFO - CoinGecko insights for UNI: neutral (0.50 confidence), sentiment: -0.28, whale: 0.10, smart money: neutral
2025-06-21 11:36:54,328 - INFO - CoinGecko insights for APT: bullish (0.60 confidence), sentiment: 0.30, whale: 0.10, smart money: neutral
2025-06-21 11:36:59,225 - INFO - CoinGecko insights for SEI: bullish (0.75 confidence), sentiment: 0.58, whale: 0.00, smart money: neutral
2025-06-21 11:37:09,362 - INFO - CoinGecko insights for NXPC: neutral (0.50 confidence), sentiment: 0.00, whale: 0.00, smart money: neutral
2025-06-21 11:37:13,399 - INFO - CoinGecko insights for KMNO: neutral (0.50 confidence), sentiment: 0.00, whale: 0.00, smart money: neutral
2025-06-21 11:37:17,407 - INFO - CoinGecko insights for LAYER: bullish (0.65 confidence), sentiment: 0.00, whale: 0.30, smart money: neutral
2025-06-21 11:37:21,871 - INFO - CoinGecko insights for CRV: neutral (0.50 confidence), sentiment: 0.05, whale: 0.00, smart money: neutral
2025-06-21 11:37:25,873 - INFO - CoinGecko insights for SYRUP: bearish (0.60 confidence), sentiment: -0.32, whale: 0.00, smart money: neutral
2025-06-21 11:37:30,751 - INFO - CoinGecko insights for FUN: neutral (0.50 confidence), sentiment: 0.80, whale: 0.00, smart money: neutral
2025-06-21 11:37:36,093 - INFO - CoinGecko insights for BMT: neutral (0.50 confidence), sentiment: -0.11, whale: 0.00, smart money: neutral
2025-06-21 11:37:40,992 - INFO - CoinGecko insights for ENA: neutral (0.50 confidence), sentiment: -0.26, whale: 0.00, smart money: neutral
2025-06-21 11:37:45,363 - INFO - BNBUSDT analysis: NEUTRAL signal with 0.00 strength
2025-06-21 11:37:45,364 - INFO - XRPUSDT analysis: NEUTRAL signal with 0.00 strength
2025-06-21 11:37:45,364 - INFO - BTCUSDT analysis: NEUTRAL signal with 0.00 strength
2025-06-21 11:37:45,364 - INFO - LTCUSDT analysis: NEUTRAL signal with 0.00 strength
2025-06-21 11:37:45,365 - INFO - UNIUSDT analysis: NEUTRAL signal with 0.00 strength
2025-06-21 11:37:45,365 - INFO - APTUSDT analysis: NEUTRAL signal with 0.00 strength
2025-06-21 11:37:45,366 - INFO - SEIUSDT analysis: BUY signal with 0.39 strength
2025-06-21 11:37:46,311 - INFO - DYNAMIC BUY: SEIUSDT - Qty: 178.5, Price: $0.2240, Value: $40.00, Signal: 0.39
2025-06-21 11:37:46,376 - INFO - Stop loss for SEIUSDT initialized at 0.218400 (2.5% below entry)
2025-06-21 11:37:46,376 - INFO - Trailing take profit for SEIUSDT initialized (activates at 2.0%, trails at 3.0%)
2025-06-21 11:37:46,377 - INFO - TEST MODE: Simulated buy for SEIUSDT executed successfully
2025-06-21 11:37:46,377 - INFO - NXPCUSDT analysis: NEUTRAL signal with 0.00 strength
2025-06-21 11:37:46,377 - INFO - KMNOUSDT analysis: NEUTRAL signal with 0.00 strength
2025-06-21 11:37:46,378 - INFO - LAYERUSDT analysis: NEUTRAL signal with 0.00 strength
2025-06-21 11:37:46,378 - INFO - CRVUSDT analysis: NEUTRAL signal with 0.00 strength
2025-06-21 11:37:46,378 - INFO - SYRUPUSDT analysis: NEUTRAL signal with 0.00 strength
2025-06-21 11:37:46,378 - INFO - CoinGecko insights for FUN: bullish (0.85 confidence), sentiment: 0.80, whale: 0.50, smart money: bullish
2025-06-21 11:37:46,379 - INFO - CoinGecko insights for BMT: neutral (0.50 confidence), sentiment: -0.11, whale: 0.10, smart money: neutral
2025-06-21 11:37:46,379 - INFO - CoinGecko insights for ENA: neutral (0.50 confidence), sentiment: -0.26, whale: 0.10, smart money: neutral
2025-06-21 11:37:46,379 - INFO - FUNUSDT analysis: BUY signal with 0.39 strength
2025-06-21 11:37:47,339 - INFO - DYNAMIC BUY: FUNUSDT - Qty: 5880.0, Price: $0.0068, Value: $40.00, Signal: 0.39
2025-06-21 11:37:47,397 - INFO - Stop loss for FUNUSDT initialized at 0.006632 (2.5% below entry)
2025-06-21 11:37:47,397 - INFO - Trailing take profit for FUNUSDT initialized (activates at 2.0%, trails at 3.0%)
2025-06-21 11:37:47,398 - INFO - TEST MODE: Simulated buy for FUNUSDT executed successfully
2025-06-21 11:37:47,398 - INFO - BMTUSDT analysis: SELL signal with 0.30 strength
2025-06-21 11:37:47,398 - INFO - ENAUSDT analysis: NEUTRAL signal with 0.00 strength
2025-06-21 11:37:47,399 - INFO - Trading cycle completed in 130.88 seconds
2025-06-21 11:41:05,286 - INFO - Top opportunities found: ['TONUSDT', 'BTCUSDT', 'SEIUSDT', 'ADAUSDT', 'CRVUSDT']
2025-06-21 11:41:06,248 - INFO - Selected optimal assets: SEIUSDT, APTUSDT, NXPCUSDT, UNIUSDT, KMNOUSDT... (10 total)
2025-06-21 11:41:06,487 - INFO - Ultra-quick profit exit for SEIUSDT at 0.80% (5 min)
2025-06-21 11:41:06,487 - INFO - SELL ORDER: SEIUSDT - 178.5 at approx. $0.2258, P/L: $0.32 (0.80%)
2025-06-21 11:41:06,529 - INFO - TEST MODE: Simulated sell for SEIUSDT executed successfully
2025-06-21 11:41:06,529 - INFO - Session stats: 1 trades, 100.0% win rate, $0.32 profit
2025-06-21 11:41:06,769 - INFO - Ultra-quick profit exit for FUNUSDT at 1.23% (5 min)
2025-06-21 11:41:06,769 - INFO - SELL ORDER: FUNUSDT - 5880.0 at approx. $0.006886, P/L: $0.49 (1.23%)
2025-06-21 11:41:06,792 - INFO - TEST MODE: Simulated sell for FUNUSDT executed successfully
2025-06-21 11:41:06,793 - INFO - Session stats: 2 trades, 100.0% win rate, $0.82 profit
2025-06-21 11:41:06,805 - INFO - CoinGecko insights for SEI: bullish (0.75 confidence), sentiment: 0.58, whale: 0.00, smart money: neutral
2025-06-21 11:41:12,267 - INFO - CoinGecko insights for APT: bullish (0.60 confidence), sentiment: 0.30, whale: 0.10, smart money: neutral
2025-06-21 11:41:15,679 - INFO - CoinGecko insights for NXPC: neutral (0.50 confidence), sentiment: -0.09, whale: 0.10, smart money: bearish
2025-06-21 11:41:20,128 - INFO - CoinGecko insights for UNI: neutral (0.50 confidence), sentiment: -0.28, whale: 0.10, smart money: neutral
2025-06-21 11:41:24,128 - INFO - CoinGecko insights for KMNO: neutral (0.50 confidence), sentiment: -0.22, whale: 0.10, smart money: neutral
2025-06-21 11:41:27,658 - INFO - SEIUSDT analysis: BUY signal with 0.39 strength
2025-06-21 11:41:28,391 - INFO - DYNAMIC BUY: SEIUSDT - Qty: 177.1, Price: $0.2258, Value: $40.00, Signal: 0.39
2025-06-21 11:41:28,457 - INFO - Stop loss for SEIUSDT initialized at 0.220155 (2.5% below entry)
2025-06-21 11:41:28,458 - INFO - Trailing take profit for SEIUSDT initialized (activates at 2.0%, trails at 3.0%)
2025-06-21 11:41:28,458 - INFO - TEST MODE: Simulated buy for SEIUSDT executed successfully
2025-06-21 11:41:28,458 - INFO - APTUSDT analysis: NEUTRAL signal with 0.00 strength
2025-06-21 11:41:28,459 - INFO - CoinGecko insights for NXPC: neutral (0.50 confidence), sentiment: -0.09, whale: 0.10, smart money: bearish
2025-06-21 11:41:28,459 - INFO - CoinGecko insights for UNI: neutral (0.50 confidence), sentiment: -0.28, whale: 0.10, smart money: neutral
2025-06-21 11:41:28,459 - INFO - CoinGecko insights for KMNO: neutral (0.50 confidence), sentiment: -0.22, whale: 0.10, smart money: neutral
2025-06-21 11:41:28,460 - INFO - NXPCUSDT analysis: NEUTRAL signal with 0.00 strength
2025-06-21 11:41:28,460 - INFO - UNIUSDT analysis: NEUTRAL signal with 0.00 strength
2025-06-21 11:41:28,460 - INFO - KMNOUSDT analysis: SELL signal with 0.32 strength
2025-06-21 11:41:43,966 - INFO - Selected optimal assets: SEIUSDT, APTUSDT, NXPCUSDT, UNIUSDT, KMNOUSDT... (10 total)
2025-06-21 11:41:44,399 - INFO - CoinGecko insights for SEI: bullish (0.75 confidence), sentiment: 0.57, whale: 0.00, smart money: neutral
2025-06-21 11:41:47,483 - INFO - CoinGecko insights for NXPC: neutral (0.50 confidence), sentiment: -0.09, whale: 0.10, smart money: bearish
2025-06-21 11:41:51,473 - INFO - CoinGecko insights for KMNO: neutral (0.50 confidence), sentiment: -0.22, whale: 0.10, smart money: neutral
2025-06-21 11:41:57,827 - INFO - CoinGecko insights for NXPC: neutral (0.50 confidence), sentiment: -0.09, whale: 0.10, smart money: bearish
2025-06-21 11:41:57,828 - INFO - CoinGecko insights for KMNO: neutral (0.50 confidence), sentiment: -0.22, whale: 0.10, smart money: neutral
2025-06-21 11:41:57,828 - INFO - CoinGecko insights for UNI: neutral (0.50 confidence), sentiment: -0.28, whale: 0.10, smart money: neutral
2025-06-21 11:42:01,394 - INFO - CoinGecko insights for APT: bullish (0.60 confidence), sentiment: 0.30, whale: 0.10, smart money: neutral
2025-06-21 11:42:04,930 - INFO - SEIUSDT analysis: BUY signal with 0.39 strength
2025-06-21 11:42:04,930 - INFO - NXPCUSDT analysis: NEUTRAL signal with 0.00 strength
2025-06-21 11:42:04,930 - INFO - KMNOUSDT analysis: SELL signal with 0.32 strength
2025-06-21 11:42:04,931 - INFO - CoinGecko insights for UNI: neutral (0.50 confidence), sentiment: -0.28, whale: 0.10, smart money: neutral
2025-06-21 11:42:04,931 - INFO - CoinGecko insights for APT: bullish (0.60 confidence), sentiment: 0.30, whale: 0.10, smart money: neutral
2025-06-21 11:42:04,932 - INFO - UNIUSDT analysis: NEUTRAL signal with 0.00 strength
2025-06-21 11:42:04,932 - INFO - APTUSDT analysis: BUY signal with 0.34 strength
2025-06-21 11:42:05,897 - INFO - DYNAMIC BUY: APTUSDT - Qty: 8.67, Price: $4.6120, Value: $40.00, Signal: 0.34
2025-06-21 11:42:05,920 - INFO - Stop loss for APTUSDT initialized at 4.496700 (2.5% below entry)
2025-06-21 11:42:05,920 - INFO - Trailing take profit for APTUSDT initialized (activates at 2.0%, trails at 3.0%)
2025-06-21 11:42:05,920 - INFO - TEST MODE: Simulated buy for APTUSDT executed successfully
2025-06-21 11:42:22,333 - INFO - Selected optimal assets: SEIUSDT, APTUSDT, NXPCUSDT, UNIUSDT, KMNOUSDT... (10 total)
2025-06-21 11:42:22,948 - INFO - CoinGecko insights for SEI: bullish (0.75 confidence), sentiment: 0.57, whale: 0.00, smart money: neutral
2025-06-21 11:42:26,927 - INFO - CoinGecko insights for APT: bullish (0.60 confidence), sentiment: 0.30, whale: 0.10, smart money: neutral
2025-06-21 11:42:30,207 - INFO - CoinGecko insights for NXPC: neutral (0.50 confidence), sentiment: -0.09, whale: 0.10, smart money: bearish
2025-06-21 11:42:34,201 - INFO - CoinGecko insights for UNI: neutral (0.50 confidence), sentiment: -0.28, whale: 0.10, smart money: neutral
2025-06-21 11:42:38,207 - INFO - CoinGecko insights for KMNO: neutral (0.50 confidence), sentiment: -0.22, whale: 0.10, smart money: neutral
2025-06-21 11:42:41,711 - INFO - Bot stopped by user
2025-06-21 11:42:41,758 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<HybridTradingBot.run() done, defined at C:\Users\cuhey\Desktop\AI-V2\GenesisAI\src\hybrid_bot.py:204> wait_for=<_GatheringFuture finished exception=CancelledError()> cb=[gather.<locals>._done_callback() at C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\tasks.py:820]>
2025-06-21 11:42:41,758 - ERROR - _GatheringFuture exception was never retrieved
future: <_GatheringFuture finished exception=CancelledError()>
Traceback (most recent call last):
  File "C:\Users\cuhey\Desktop\AI-V2\GenesisAI\src\main.py", line 31, in <module>
    asyncio.run(bot.run())
    ~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 194, in run
    with Runner(debug=debug, loop_factory=loop_factory) as runner:
         ~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 62, in __exit__
    self.close()
    ~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 70, in close
    _cancel_all_tasks(loop)
    ~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 206, in _cancel_all_tasks
    loop.run_until_complete(tasks.gather(*to_cancel, return_exceptions=True))
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 712, in run_until_complete
    self.run_forever()
    ~~~~~~~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 683, in run_forever
    self._run_once()
    ~~~~~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 2040, in _run_once
    handle._run()
    ~~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\Desktop\AI-V2\GenesisAI\src\hybrid_bot.py", line 509, in trading_task
    await asyncio.gather(*analysis_tasks)
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 712, in run_until_complete
    self.run_forever()
    ~~~~~~~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 683, in run_forever
    self._run_once()
    ~~~~~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 2040, in _run_once
    handle._run()
    ~~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\Desktop\AI-V2\GenesisAI\src\hybrid_bot.py", line 695, in analyze_and_trade
    mtf_analysis = await self.market_analysis.get_multi_timeframe_analysis(pair)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\Desktop\AI-V2\GenesisAI\src\market_analysis.py", line 53, in get_multi_timeframe_analysis
    klines = await self.get_klines(pair, now - lookback_ms, interval)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\Desktop\AI-V2\GenesisAI\src\market_analysis.py", line 261, in get_klines
    klines = self.binance_client.get_historical_klines(
        pair, interval, start_time, limit=1000
    )
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\binance\client.py", line 781, in get_historical_klines
    return self._historical_klines(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        symbol,
        ^^^^^^^
    ...<4 lines>...
        klines_type=klines_type,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\binance\client.py", line 838, in _historical_klines
    first_valid_ts = self._get_earliest_valid_timestamp(
        symbol, interval, klines_type
    )
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\binance\client.py", line 744, in _get_earliest_valid_timestamp
    kline = self._klines(
        klines_type=klines_type,
    ...<4 lines>...
        endTime=int(time.time() * 1000),
    )
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\binance\client.py", line 710, in _klines
    return self.get_klines(**params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\binance\client.py", line 693, in get_klines
    return self._get("klines", data=params, version=self.PRIVATE_API_VERSION)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\binance\client.py", line 176, in _get
    return self._request_api("get", path, signed, version, **kwargs)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\binance\client.py", line 113, in _request_api
    return self._request(method, uri, signed, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\binance\client.py", line 88, in _request
    self.response = getattr(self.session, method)(uri, headers=headers, data=data, **kwargs)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\urllib3\connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\http\client.py", line 1430, in getresponse
    response.begin()
    ~~~~~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\http\client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\http\client.py", line 292, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\socket.py", line 719, in readinto
    return self._sock.recv_into(b)
           ~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1304, in recv_into
    return self.read(nbytes, buffer)
           ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1138, in read
    return self._sslobj.read(len, buffer)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\cuhey\Desktop\AI-V2\GenesisAI\src\hybrid_bot.py", line 372, in market_monitor_task
    await asyncio.sleep(1800)
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\tasks.py", line 718, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2025-06-21 11:42:41,943 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-3' coro=<HybridTradingBot.trading_task() done, defined at C:\Users\cuhey\Desktop\AI-V2\GenesisAI\src\hybrid_bot.py:380> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "C:\Users\cuhey\Desktop\AI-V2\GenesisAI\src\main.py", line 31, in <module>
    asyncio.run(bot.run())
    ~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 194, in run
    with Runner(debug=debug, loop_factory=loop_factory) as runner:
         ~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 62, in __exit__
    self.close()
    ~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 70, in close
    _cancel_all_tasks(loop)
    ~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 206, in _cancel_all_tasks
    loop.run_until_complete(tasks.gather(*to_cancel, return_exceptions=True))
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 712, in run_until_complete
    self.run_forever()
    ~~~~~~~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 683, in run_forever
    self._run_once()
    ~~~~~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 2040, in _run_once
    handle._run()
    ~~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\Desktop\AI-V2\GenesisAI\src\hybrid_bot.py", line 509, in trading_task
    await asyncio.gather(*analysis_tasks)
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 712, in run_until_complete
    self.run_forever()
    ~~~~~~~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 683, in run_forever
    self._run_once()
    ~~~~~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\base_events.py", line 2040, in _run_once
    handle._run()
    ~~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\Desktop\AI-V2\GenesisAI\src\hybrid_bot.py", line 695, in analyze_and_trade
    mtf_analysis = await self.market_analysis.get_multi_timeframe_analysis(pair)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\Desktop\AI-V2\GenesisAI\src\market_analysis.py", line 53, in get_multi_timeframe_analysis
    klines = await self.get_klines(pair, now - lookback_ms, interval)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\Desktop\AI-V2\GenesisAI\src\market_analysis.py", line 261, in get_klines
    klines = self.binance_client.get_historical_klines(
        pair, interval, start_time, limit=1000
    )
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\binance\client.py", line 781, in get_historical_klines
    return self._historical_klines(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        symbol,
        ^^^^^^^
    ...<4 lines>...
        klines_type=klines_type,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\binance\client.py", line 838, in _historical_klines
    first_valid_ts = self._get_earliest_valid_timestamp(
        symbol, interval, klines_type
    )
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\binance\client.py", line 744, in _get_earliest_valid_timestamp
    kline = self._klines(
        klines_type=klines_type,
    ...<4 lines>...
        endTime=int(time.time() * 1000),
    )
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\binance\client.py", line 710, in _klines
    return self.get_klines(**params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\binance\client.py", line 693, in get_klines
    return self._get("klines", data=params, version=self.PRIVATE_API_VERSION)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\binance\client.py", line 176, in _get
    return self._request_api("get", path, signed, version, **kwargs)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\binance\client.py", line 113, in _request_api
    return self._request(method, uri, signed, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\binance\client.py", line 88, in _request
    self.response = getattr(self.session, method)(uri, headers=headers, data=data, **kwargs)
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\urllib3\connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\site-packages\urllib3\connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\http\client.py", line 1430, in getresponse
    response.begin()
    ~~~~~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\http\client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ~~~~~~~~~~~~~~~~~^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\http\client.py", line 292, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\socket.py", line 719, in readinto
    return self._sock.recv_into(b)
           ~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1304, in recv_into
    return self.read(nbytes, buffer)
           ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\ssl.py", line 1138, in read
    return self._sslobj.read(len, buffer)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\cuhey\AppData\Local\Programs\Python\Python313\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt
